{% extends "panel.html" %}


{% block txt_lv1 %}GRÁFICOS{% endblock txt_lv1 %}
{% block txt_lv2 %}REP002{% endblock txt_lv2 %}

{% block section_1 %}
<div class="rep-graf">

 


	<div class="reporte1">
		<hr>
        <input id="url_rep002" type="text" value="{% url 'rep002' %}" hidden="">
          <input type="month" id="input_mes" name="input_mes"  min="2020-01">
          <button onclick="GrafRp002()">consultar</button>
		 <hr>
			
	</div>



<div id="rep002" style="min-width: 310px; max-width: 800px; height: 1200px; margin: 0 auto"></div>

<script type="text/javascript">

Highcharts.chart('rep002', {
    chart: {
        type: 'bar'
    },
    title: {
        text: '{{ msj }}'
    },
    subtitle: {
        text: 'incurrido semanal'
    },
    xAxis: {
        categories:[ {% for cl in col %}'{{ cl }}',{% endfor %} ],
        title: {
            text: null
        }
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Medición (h)',
            align: 'high'
        },
        labels: {
            overflow: 'justify'
        }
    },
    tooltip: {
        valueSuffix: ' h'
    },
    plotOptions: {
        bar: {
            dataLabels: {
                enabled: true
            }
        }
    },
    legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'top',
        x: -40,
        y: 80,
        floating: true,
        borderWidth: 1,
        backgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),
        shadow: true
    },
    credits: {
        enabled: false
    },
    series: [{
        name: 'Semana 1',
        data: [ {% for s1 in sem_1 %} parseFloat('{{ s1 }}'),  {% endfor %}]
    }, {
        name: 'Semana 2',
        data: [ {% for s2 in sem_2 %} parseFloat('{{ s2 }}'),  {% endfor %}]
    }, {
        name: 'Semana 3',
        data: [ {% for s3 in sem_3 %} parseFloat('{{ s3 }}'),  {% endfor %}]
    }, {
        name: 'Semana 4',
        data: [ {% for s4 in sem_4 %} parseFloat('{{ s4 }}'),  {% endfor %}]
    }, {
        name: 'Semana 5',
        data: [ {% for s5 in sem_5 %} parseFloat('{{ s5 }}'),  {% endfor %}]
    }, {
        name: 'Semana 6',
        data: [ {% for s6 in sem_6 %} parseFloat('{{ s6 }}'),  {% endfor %}]
    }]
});
        </script>




        <div class="tabla">
            <a href="#" class="desc" onclick="tableToExcel('tabla1', 'minifex')">Descargar..     <i class="fa fa-file-excel-o"></i></a>
        </div>


         <div class="tabla tab_rep002">
            <table id="tabla1">
                <thead> 
                    <tr style="background-color: #9EA665;color: white;font-weight: bold;
                            line-height: 1.5em; text-align:center;">
                        <td colspan="{{ len }}"> {{ msj }} </td>
                    </tr>
                    <tr style="background-color: #9EA665;color: white;
                                line-height: 1.5em; text-align:center;"> 
                        <td>/</td>{% for cl in col %}<td>{{ cl }}</td>{% endfor %}
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Semana_1</td>
                        {% for sm1 in sem_1 %} <td>{% if sm1 == None %}0 {% else %}{{sm1}}{% endif %}</td>{% endfor %}
                    </tr>
                    <tr>
                        <td>Semana_2</td>
                        {% for sm2 in sem_2 %} <td>{% if sm2 == None %}0 {% else %}{{sm2}}{% endif %}</td> {% endfor %}
                    </tr>
                    <tr>
                        <td>Semana_3</td>
                        {% for sm3 in sem_3 %} <td>{% if sm3 == None %}0 {% else %}{{sm3}}{% endif %}</td>{% endfor %}
                    </tr>
                    <tr>
                        <td>Semana_4</td>
                        {% for sm4 in sem_4 %}<td>{% if sm4 == None %}0 {% else %}{{sm4}}{% endif %}</td>{% endfor %}
                    </tr>
                    <tr>
                        <td>Semana_5</td>
                        {% for sm5 in sem_5 %}<td>{% if sm5 == None %}0 {% else %}{{sm5}}{% endif %}</td>{% endfor %}
                    </tr>
                    <tr>
                        <td>Semana_6</td>
                        {% for sm6 in sem_6 %}<td>{% if sm6 == None %}0 {% else %}{{sm6}}{% endif %}</td>{% endfor %}
                    </tr>
                </tbody>
            </table>
        </div>

        <br>
        <hr><hr>
        <br>




		
</div>
{% endblock section_1 %}
